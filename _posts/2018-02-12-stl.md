---
layout: post
title:  "stl åŸºç¡€çŸ¥è¯†"
categories: c/c++
tags: stl c++
author: wenfh2020
---

ä¸»è¦å¯¹æ—§çŸ¥è¯†å¯¹æ¸©ä¹ å’ŒçŸ¥è¯†ç›²ç‚¹çš„è®°å½•ã€‚ï¼ˆéƒ¨åˆ†çŸ¥è¯†æ¥è‡ªç½‘ç»œï¼‰



* content
{:toc}

## 1. set

* éå†

```c++
set<int> s;
set<int>::iterator it = s.begin();
for (; it != s.end(); ++it) {
    std::cout<< *it <<std::endl;
}
```

---

## 2. map

* æ’å…¥æ•°æ®

```c++
std::map<long long, std::string> _map;
_map.insert(std::pair<long long, std::string>(x, y));
```

* åå‘éå†

```c++
std::map<long long, std::string> _map;
std::map<long long, std::string>::reverse_iterator itr = _map.rbegin();
for (; itr != _map.rend(); itr++) {
    printf("%p: %s\n", (void*)itr->first, itr->second.c_str());
}
```

---

## 3. vector

| æ¥å£     | è§£æ                                                                                                                                        |
| :------- | :------------------------------------------------------------------------------------------------------------------------------------------ |
| capacity | å½“å‰å®¹å™¨å®¹é‡ï¼Œcapacity å¢é•¿çš„ç­–ç•¥ä¸åŒçš„å¹³å°ä¸‹ï¼Œæƒ…å†µä¸ä¸€æ ·ï¼Œmac å’Œ centos å°±ä¸ä¸€æ ·ã€‚                                                         |
| size     | å½“å‰æ•°æ®é•¿åº¦                                                                                                                                |
| reserve  | æ ¹æ®ç›®æ ‡æ•°æ®å‘Šè¯‰å®¹å™¨åº”è¯¥é¢„ç•™å¤šå°‘ä¸ªå…ƒç´ çš„å­˜å‚¨ç©ºé—´ï¼Œå½±å“ capacity                                                                             |
| resize   | è°ƒæ•´å½“å‰æ•°æ®å¤§å°ï¼Œå¯¹æ•°æ®æœ‰åˆå§‹åŒ–åŠŸèƒ½ï¼›å°äºé‚£ä¹ˆ capc ä¸å˜ï¼Œå¤§äºcapc è¦æ”¹å˜ï¼Œå½“resize å¤§å°æœ‰æ”¹å˜ä¸”å¤§äºå½“å‰ capacityï¼Œé‚£ä¹ˆ capacity ä¼šåŠ å€å¢é•¿ |

vector å®¹å™¨è‡ªå¢é•¿ï¼Œæ•°ç»„å†…å­˜éƒ½æ˜¯è¿ç»­çš„ï¼Œä¸ºäº†å¢åŠ æ•°ç»„çš„ä½¿ç”¨æ•ˆç‡ï¼Œä¼šå¯¹å†…å­˜è¿›è¡Œé¢„åˆ†é…ã€‚
vector ä¸å¾—ä¸é‡æ–°åˆ†é…æ–°çš„å†…å­˜æ—¶ä»¥**åŠ å€å½“å‰å®¹é‡**çš„åˆ†é…ç­–ç•¥å®ç°é‡æ–°åˆ†é…
==> å› ä¸ºåŠ¨æ€å†…å­˜åˆ†é…æ•°ç»„ï¼Œæ•°ç»„å†…éƒ¨ä¼šæ ¹æ®å†…å®¹è¾“å…¥çš„å®¹é‡å¢é•¿ï¼Œä¸æ–­é‡æ–°åˆ†é…å†…å­˜ï¼Œå¦‚æœæ•°ç»„è¦è¿ç»­è¾“å…¥æ•°é‡æ¯”è¾ƒå¤šçš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ reserve ï¼ˆæˆ–è€… resizeï¼‰æ¥å£ä¸ºç›®æ ‡æ•°æ®é¢„åˆ†é…è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¿™æ ·ï¼Œæ•°ç»„åœ¨æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå°±ä¸ä¼šé¢‘ç¹è¿›è¡Œå†…å­˜çš„é‡æ–°åˆ†é…ï¼Œå¯¼è‡´æ•ˆç‡ä½ä¸‹ã€‚

```c++
#include <iostream>
#include <vector>

const int g_array_len = 612;
using namespace std;

void traversal(int len) {
    vector<int> v;
    for (int i = 0; i < len; i++) {
        v.push_back(i);
        printf("data: %d, size: %lu, capc: %lu\n", v[i], v.size(), v.capacity());
    }
}

void reserve(int len) {
    vector<int> v;
    v.reserve(len);
    for (int i = 0; i < len; i++) {
        v.push_back(i);
        printf("data: %d, size: %lu, capc: %lu\n", v[i], v.size(), v.capacity());
    }
}

void resize(int len) {
    vector<int> v;
    v.reserve(len);
    printf("vector size: %lu, capc: %lu\n", v.size(), v.capacity());
    v.resize(len+1, 5);
    printf("vector size: %lu, capc: %lu\n", v.size(), v.capacity());
    printf("v[%d] = %d\n", len+1, v[len+1]);
}

int main() {
    // å¯ä»¥é€šè¿‡éå†æ•°æ®ï¼Œè§‚å¯Ÿ vector å†…éƒ¨çš„å†…å­˜åˆ†é…æƒ…å†µã€‚
    // traversal(g_array_len);

    // é¢„åˆ†é…å®¹å™¨å®¹é‡ï¼Œè§‚å¯Ÿå®¹å™¨å†…éƒ¨çš„å†…å­˜åˆ†é…æƒ…å†µã€‚
    // reserve(g_array_len);

    // é¢„åˆ†é…å®¹å™¨å®¹é‡ï¼Œç›®æ ‡æ•°æ®è¶…å‡ºå®¹é‡ï¼Œè§‚å¯Ÿå®¹å™¨å†…éƒ¨çš„å†…å­˜åˆ†é…æƒ…å†µã€‚
    // reserve(g_array_len + 1);

    resize(g_array_len);
    return 0;
}
```

---

## 4. å‚è€ƒ

* [æ–‡æ¡£](https://zh.cppreference.com/w/cpp/container/set/begin)
* [å¤šçº¿ç¨‹](https://www.jianshu.com/u/88ad4f76eb79)
* [c++ å®˜ç½‘](http://www.cplusplus.com/)

---

> ğŸ”¥ æ–‡ç« æ¥æºï¼š[ã€Šstl åŸºç¡€çŸ¥è¯†ã€‹](https://wenfh2020.com/2018/02/12/stl/)
>
> ğŸ‘ å¤§å®¶è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰äº›ä½œç”¨ï¼ å¦‚æœæƒ³ <font color=green>èµèµ</font>ï¼Œå¯ä»¥ç”¨å¾®ä¿¡æ‰«æä¸‹é¢çš„äºŒç»´ç ï¼Œæ„Ÿè°¢!
<div align=center><img src="/images/2020-08-06-15-49-47.png" width="120"/></div>
