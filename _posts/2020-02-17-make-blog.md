---
layout: post
title:  "github + jekyll 建自己的博客"
categories: 随笔
tags: 随笔
author: wenfh2020
--- 

自从用 `markdown` 写文档之后，感觉就离不开它了。工作这么久，最后悔的事情是没有条理化地将知识实时落地，然后后面做了大量重复无用的工作。很幸运 `github` 提供了一个很好的源码管理和博客平台。我[自己的博客](https://wenfh2020.github.io/)框架来自[Gaohaoyang](https://github.com/Gaohaoyang/gaohaoyang.github.io)



* content
{:toc}

---

## 概述

自己的博客 = `git` + `github` + `jekyll` + `vscode`

---

## 目的

我自己建立博客主要目的是希望对知识进行条理化管理。有几点要求：

1. 终端简洁，无乱七八糟的广告，没有系统乱七八糟的推荐，最好是完全自己的东西。
2. 支持 `markdown` 文本格式，而且能展示 `markdown` 目录。
3. 支持文章分类管理，即便是二级目录也不错。

---

## 搭建流程

`github` 上可以建立自己的博客，也是这几天才知道。搭建起来不复杂，懂的人搭建自然很快。`jekyll` + `github` 搭建详细文档，网络上很多，可以参考下[这个](ttps://github.com/wonderseen/wonderseen.github.io)，细节问题，还是需要花点时间，简单记录下流程：

1. 会 `git` 的基本使用方法。
2. 注册个 `github` 账号。
3. 在 `github` 上建立自己的博客项目 `xxx.github.io`。
4. 拷贝别人的 `xxx.github.io` 文件放在自己的目录下。
5. 别人的 `xxx.github.io` 项目有别人的信息，需要替换删减成自己的。
6. 本地查看博客预览。（请参考这个[文档](https://github.com/wonderseen/wonderseen.github.io)的搭建流程）
7. 本地预览正常，`git` 提交 `github`。
8. 浏览器打开链接 `xxx.github.io`。（有时候不是实时刷新的，大概需要等 1 分钟左右）

---

## markdown 编辑

`markdown` 编辑器可以用 `vscode`，这货真是万能，有不少插件支持。`PicGo` 插件可以关联图床，用起来挺方便的。天下没有免费的午餐，图床肯定是付费的比较稳定流畅，目前暂时选择了免费的 `github` 平台。国内的速度不是很稳定，浏览器有图片缓存，自己看一般不是大问题，先看看吧。

---

## 脚本

* debug.sh

  发现本地预览有时候不能实时刷新，需要删除目录 `_site` 才能正常工作。
  
```shell
#!/bin/sh
  
cd `dirname $0`
work_path=`pwd`
cd $work_path

rm -r _site
jekyll s --incremental
```

* commit.sh

  写博客文章，经常操作的只有 `_posts` 目录，所以将 git 的 `add`，`commit`，`push` 三个命令，整合在一起方便操作。

```shell
#!/bin/sh

cd `dirname $0`
work_path=`pwd`
cd $work_path

if [ $# != 1 ]; then
    echo 'pls input commit message'
    exit 1
fi

git add ./_posts && git commit -m $1 && git push -u origin master
```

---

## 参考

* [jekyll 官网](http://jekyllcn.com/)
