<p>è‡ªä»ç”¨ <code class="highlighter-rouge">markdown</code> å†™æ–‡æ¡£åï¼Œæ„Ÿè§‰å·²ç»ç¦»ä¸å¼€å®ƒäº†ã€‚å·¥ä½œè¿™ä¹ˆä¹…ï¼Œé—æ†¾æ²¡æœ‰æ¡ç†åŒ–åœ°å°†çŸ¥è¯†å®æ—¶è½åœ°ï¼Œåé¢åšäº†å¤§é‡é‡å¤åŠ³åŠ¨ã€‚å¹¸è¿ <code class="highlighter-rouge">github</code> æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„æºç ç®¡ç†å’Œåšå®¢å¹³å°ã€‚<a href="https://wenfh2020.com">[æˆ‘çš„åšå®¢]</a><a href="https://github.com/wenfh2020/wenfh2020.github.io">[æ¡†æ¶]</a>æ¥è‡ª<a href="https://github.com/Gaohaoyang/gaohaoyang.github.io">Gaohaoyang</a>ï¼Œç„¶è€Œå›½å†…çš„ç½‘ç»œå¯¹ <code class="highlighter-rouge">github</code> å¹³å°ä¸æ˜¯å¾ˆå‹å¥½ï¼Œå¦‚æœ‰æ¡ä»¶ï¼Œå¯ä»¥åŒæ—¶éƒ¨ç½²åšå®¢åˆ°è‡ªå·±çš„äº‘ä¸»æœºä¸Šã€‚</p>

<ul id="markdown-toc">
  <li><a href="#1-æ•ˆæœ" id="markdown-toc-1-æ•ˆæœ">1. æ•ˆæœ</a></li>
  <li><a href="#2-æ¦‚è¿°" id="markdown-toc-2-æ¦‚è¿°">2. æ¦‚è¿°</a></li>
  <li><a href="#3-ç›®çš„" id="markdown-toc-3-ç›®çš„">3. ç›®çš„</a></li>
  <li><a href="#4-æ­å»ºæµç¨‹" id="markdown-toc-4-æ­å»ºæµç¨‹">4. æ­å»ºæµç¨‹</a></li>
  <li><a href="#5-ä¼˜åŒ–" id="markdown-toc-5-ä¼˜åŒ–">5. ä¼˜åŒ–</a>    <ul>
      <li><a href="#51-ä»£ç å—" id="markdown-toc-51-ä»£ç å—">5.1. ä»£ç å—</a></li>
      <li><a href="#52-æœç´¢æ–‡ç« é¢˜ç›®åŠŸèƒ½" id="markdown-toc-52-æœç´¢æ–‡ç« é¢˜ç›®åŠŸèƒ½">5.2. æœç´¢æ–‡ç« é¢˜ç›®åŠŸèƒ½</a></li>
      <li><a href="#53-æäº¤åšå®¢æ–‡ç« " id="markdown-toc-53-æäº¤åšå®¢æ–‡ç« ">5.3. æäº¤åšå®¢æ–‡ç« </a></li>
    </ul>
  </li>
  <li><a href="#6-å¯åŠ¨" id="markdown-toc-6-å¯åŠ¨">6. å¯åŠ¨</a></li>
  <li><a href="#7-markdown-ç¼–è¾‘å™¨" id="markdown-toc-7-markdown-ç¼–è¾‘å™¨">7. markdown ç¼–è¾‘å™¨</a>    <ul>
      <li><a href="#71-æ’ä»¶" id="markdown-toc-71-æ’ä»¶">7.1. æ’ä»¶</a></li>
      <li><a href="#72-å›¾ç‰‡" id="markdown-toc-72-å›¾ç‰‡">7.2. å›¾ç‰‡</a></li>
    </ul>
  </li>
  <li><a href="#8-ecs-äº‘æœåŠ¡éƒ¨ç½²" id="markdown-toc-8-ecs-äº‘æœåŠ¡éƒ¨ç½²">8. ECS äº‘æœåŠ¡éƒ¨ç½²</a>    <ul>
      <li><a href="#81-åŸŸå" id="markdown-toc-81-åŸŸå">8.1. åŸŸå</a></li>
      <li><a href="#82-å®‰è£…-ruby" id="markdown-toc-82-å®‰è£…-ruby">8.2. å®‰è£… ruby</a></li>
      <li><a href="#83-æ‹‰å–ä»£ç " id="markdown-toc-83-æ‹‰å–ä»£ç ">8.3. æ‹‰å–ä»£ç </a></li>
      <li><a href="#84-è¿è¡Œ-jekyll-æœåŠ¡" id="markdown-toc-84-è¿è¡Œ-jekyll-æœåŠ¡">8.4. è¿è¡Œ jekyll æœåŠ¡</a></li>
      <li><a href="#85-nginx-é…ç½®" id="markdown-toc-85-nginx-é…ç½®">8.5. nginx é…ç½®</a></li>
    </ul>
  </li>
  <li><a href="#9-å‚è€ƒ" id="markdown-toc-9-å‚è€ƒ">9. å‚è€ƒ</a></li>
</ul>

<hr />

<h2 id="1-æ•ˆæœ">1. æ•ˆæœ</h2>

<p><img src="/images/2020-02-21-09-32-28.png" alt="æ•ˆæœ" data-action="zoom" /></p>

<hr />

<h2 id="2-æ¦‚è¿°">2. æ¦‚è¿°</h2>

<p>è‡ªå·±çš„åšå®¢ = <code class="highlighter-rouge">git</code> + <code class="highlighter-rouge">github</code> + <code class="highlighter-rouge">jekyll</code> + <code class="highlighter-rouge">vscode</code></p>

<hr />

<h2 id="3-ç›®çš„">3. ç›®çš„</h2>

<p>å¯¹çŸ¥è¯†è¿›è¡Œæ¡ç†åŒ–ç®¡ç†ã€‚æœ‰å‡ ç‚¹è¦æ±‚ï¼š</p>

<ol>
  <li>ç»ˆç«¯ç®€æ´ï¼Œæ— å¹¿å‘Šï¼Œæ— æ¨èã€‚</li>
  <li>æ”¯æŒ <code class="highlighter-rouge">markdown</code> æ–‡æœ¬æ ¼å¼ï¼Œèƒ½å±•ç¤º <code class="highlighter-rouge">markdown</code> ç›®å½•ã€‚</li>
  <li>æ”¯æŒæ–‡ç« åˆ†ç±»ç®¡ç†ã€‚</li>
  <li>æ”¯æŒæ–‡ç« é¢˜ç›®æœç´¢ã€‚</li>
</ol>

<hr />

<h2 id="4-æ­å»ºæµç¨‹">4. æ­å»ºæµç¨‹</h2>

<p><code class="highlighter-rouge">github</code> ä¸Šæ­å»ºåšå®¢ï¼Œå¹¶ä¸å¤æ‚ã€‚<code class="highlighter-rouge">jekyll</code> + <code class="highlighter-rouge">github</code> æ­å»ºè¯¦ç»†æ–‡æ¡£ï¼Œç½‘ç»œä¸Šå¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒä¸‹<a href="https://github.com/wonderseen/wonderseen.github.io">è¿™ä¸ª</a>ï¼Œç»†èŠ‚é—®é¢˜ï¼Œè¿˜æ˜¯éœ€è¦èŠ±ç‚¹æ—¶é—´ï¼Œç®€å•è®°å½•ä¸‹æµç¨‹ï¼š</p>

<ol>
  <li>ä¼š <code class="highlighter-rouge">git</code> çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚</li>
  <li>æ³¨å†Œä¸ª <code class="highlighter-rouge">github</code> è´¦å·ã€‚</li>
  <li>åœ¨ <code class="highlighter-rouge">github</code> ä¸Šå»ºç«‹è‡ªå·±çš„åšå®¢é¡¹ç›® <code class="highlighter-rouge">xxx.github.io</code>ã€‚</li>
  <li>æ‹·è´åˆ«äººçš„ <code class="highlighter-rouge">xxx.github.io</code> æ–‡ä»¶æ”¾åœ¨è‡ªå·±çš„ç›®å½•ä¸‹ã€‚</li>
  <li>åˆ«äººçš„ <code class="highlighter-rouge">xxx.github.io</code> é¡¹ç›®æœ‰åˆ«äººçš„ä¿¡æ¯ï¼Œéœ€è¦æ›¿æ¢åˆ å‡æˆè‡ªå·±çš„ã€‚</li>
  <li>æœ¬åœ°æŸ¥çœ‹åšå®¢é¢„è§ˆã€‚ï¼ˆè¯·å‚è€ƒè¿™ä¸ª<a href="https://github.com/wonderseen/wonderseen.github.io">æ–‡æ¡£</a>çš„æ­å»ºæµç¨‹ï¼‰</li>
  <li>æœ¬åœ°é¢„è§ˆæ­£å¸¸ï¼Œ<code class="highlighter-rouge">git</code> æäº¤ <code class="highlighter-rouge">github</code>ã€‚</li>
  <li>æµè§ˆå™¨æ‰“å¼€é“¾æ¥ <code class="highlighter-rouge">xxx.github.io</code>ã€‚ï¼ˆåˆ·æ–°æœ‰æ—¶å€™ä¸æ˜¯å®æ—¶çš„ï¼Œå¤§æ¦‚éœ€è¦ç­‰ 1 åˆ†é’Ÿå·¦å³ï¼‰</li>
</ol>

<hr />

<h2 id="5-ä¼˜åŒ–">5. ä¼˜åŒ–</h2>

<h3 id="51-ä»£ç å—">5.1. ä»£ç å—</h3>

<ul>
  <li>åŸæ¥æ¡†æ¶çš„ä»£ç å—ä»£ç è‡ªåŠ¨æ¢è¡Œï¼Œå­—ä½“å¤ªå¤§ï¼Œè¿˜å±è”½äº†æ»šåŠ¨æ¡æ»šåŠ¨åŠŸèƒ½ã€‚åœ¨æ‰‹æœºä¸Šçœ‹ï¼Œæ„Ÿè§‰æŒºåˆ«æ‰­çš„ï¼Œå¯ä»¥ä¿®æ”¹æ–‡ä»¶ <code class="highlighter-rouge">_sass/_syntax-highlighting.scss</code> ç›¸å…³é€‰é¡¹è®¾ç½®ã€‚</li>
</ul>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">pre</span> <span class="p">{</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">12px</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">12px</span><span class="p">;</span>
    <span class="nl">overflow-x</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>      <span class="c1">// æ»šåŠ¨æ¡æ»šåŠ¨åŠŸèƒ½</span>
    <span class="nl">word-wrap</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span>      <span class="cm">/* IE 5.5-7 */</span>
    <span class="c1">// white-space: pre-wrap;      /* current browsers */</span>
    <span class="nl">white-space</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>     <span class="c1">// ä»£ç è‡ªåŠ¨æ¢è¡Œ  /* current browsers */</span>
    <span class="o">&gt;</span> <span class="nt">code</span> <span class="p">{</span>
        <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>   <span class="c1">// ä»£ç å—å­—ä½“å¤§å°</span>
        <span class="nl">color</span><span class="p">:</span> <span class="mh">#d1d1c9</span><span class="p">;</span>
        <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
        <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#272822</span><span class="p">;</span>
        <span class="nl">line-height</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ä»£ç ä¸»é¢˜ï¼Œå¯ä»¥åœ¨ <code class="highlighter-rouge">_sass/_syntax-highlighting.scss</code> çš„ <code class="highlighter-rouge">.highlight</code> ä¸­ï¼Œè°ƒæ•´è‡ªå·±å–œæ¬¢çš„é¢œè‰²ã€‚ä¹Ÿå¯ä»¥å¼•ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ <code class="highlighter-rouge">highlight.min.js</code></li>
</ul>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.highlight</span> <span class="p">{</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">3px</span><span class="p">;</span>

    <span class="nl">background</span><span class="p">:</span> <span class="mh">#272822</span><span class="p">;</span>
    <span class="nc">.hll</span> <span class="p">{</span> <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#272822</span><span class="p">;</span> <span class="p">}</span>
    <span class="nc">.c</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="mh">#6a9955</span> <span class="p">}</span> <span class="cm">/* Comment */</span>
    <span class="nc">...</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h3 id="52-æœç´¢æ–‡ç« é¢˜ç›®åŠŸèƒ½">5.2. æœç´¢æ–‡ç« é¢˜ç›®åŠŸèƒ½</h3>

<p>åŸæ¡†æ¶æ²¡æœ‰æœç´¢åŠŸèƒ½ï¼Œå¯ä»¥å°†è¿™ä¸ª<a href="https://www.codeboy.me/2015/07/11/jekyll-search/">åšå®¢</a>çš„æœç´¢ç»„ä»¶æ·»åŠ è¿›æ¥ï¼Œè°¢è°¢äº†ã€‚æœ‰äº›ä»£ç æ²¡æ‰£å¾—å¥½ï¼Œæœç´¢é¡µé¢è¿˜æœ‰ç‚¹é—®é¢˜ï¼Œå‡‘åˆç€ç”¨å§ã€‚</p>

<blockquote>
  <p>åŒå‡»é”®ç›˜ <code class="highlighter-rouge">ctrl</code> é”®ï¼Œè°ƒå‡ºæœç´¢æµ®åŠ¨çª—å£ï¼Œæˆ–è€…ç‚¹å‡»é¡µé¢å·¦ä¸‹è§’æœç´¢å›¾æ ‡ã€‚</p>
</blockquote>

<p><img src="/images/2020-03-10-18-28-52.png" alt="æœç´¢" data-action="zoom" /></p>

<hr />

<h3 id="53-æäº¤åšå®¢æ–‡ç« ">5.3. æäº¤åšå®¢æ–‡ç« </h3>

<p>å†™åšå®¢æ–‡ç« ï¼Œç»å¸¸æ“ä½œçš„åªæœ‰ <code class="highlighter-rouge">images</code> å’Œ <code class="highlighter-rouge">_posts</code> ç›®å½•ï¼Œå°† <code class="highlighter-rouge">git</code> çš„å‡ ä¸ªå‘½ä»¤ <code class="highlighter-rouge">pull</code>ï¼Œ <code class="highlighter-rouge">add</code>ï¼Œ<code class="highlighter-rouge">commit</code>ï¼Œ<code class="highlighter-rouge">push</code> æ•´åˆåœ¨ä¸€èµ·æ–¹ä¾¿æ“ä½œã€‚</p>

<p>commit.sh</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c"># -------------------------------------------------------------------------------</span>
<span class="c"># project  blog</span>
<span class="c"># file:    commit.sh</span>
<span class="c"># brief    æ•´åˆå¤šä¸ª git å‘½ä»¤ï¼Œæ–¹ä¾¿æäº¤æ–‡ç« ã€‚</span>
<span class="c"># author:  wenfh2020</span>
<span class="c"># date:    2020-02-18</span>
<span class="c"># note:    ./commit.sh msg1 msg2</span>
<span class="c"># -------------------------------------------------------------------------------</span>

<span class="nb">cd</span> <span class="sb">`</span><span class="nb">dirname</span> <span class="nv">$0</span><span class="sb">`</span>
<span class="nv">work_path</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>
<span class="nb">cd</span> <span class="nv">$work_path</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-lt</span> 1 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s1">'pls input commit message'</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nv">_files</span><span class="o">=</span><span class="s1">'images _posts commit.sh refresh.sh _config.yml README.md _includes'</span>
git pull <span class="o">&amp;&amp;</span> git add <span class="nv">$_files</span> <span class="o">&amp;&amp;</span> git commit <span class="nt">-m</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> git push <span class="nt">-u</span> origin master <span class="o">&amp;&amp;</span> git status
</code></pre></div></div>

<hr />

<h2 id="6-å¯åŠ¨">6. å¯åŠ¨</h2>

<ul>
  <li>ç”¨è„šæœ¬ <code class="highlighter-rouge">refresh.sh</code> å¯åŠ¨ <code class="highlighter-rouge">jekyll</code> æœåŠ¡ï¼Œå½“åšå®¢ç›®å½•æœ‰æ›´æ–°æ—¶ï¼Œå®æ—¶ rebuildã€‚</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c"># -------------------------------------------------------------------------------</span>
<span class="c"># project  refresh</span>
<span class="c"># file:    refresh.sh</span>
<span class="c"># brief    rebuild blog to run.</span>
<span class="c"># author:  wenfh2020</span>
<span class="c"># date:    2020-02-18</span>
<span class="c"># note:    nohup ./refresh.sh &gt;&gt; /tmp/blog_log.txt 2&gt;&amp;1 &amp;</span>
<span class="c"># -------------------------------------------------------------------------------</span>

<span class="nb">cd</span> <span class="sb">`</span><span class="nb">dirname</span> <span class="nv">$0</span><span class="sb">`</span>
<span class="nv">work_path</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>
<span class="nb">cd</span> <span class="nv">$work_path</span>

<span class="c"># find and kill</span>
<span class="nv">_pids</span><span class="o">=</span><span class="sb">`</span>ps <span class="nt">-ef</span> | <span class="nb">grep</span> <span class="s1">'jekyll serve'</span> | <span class="nb">grep</span> <span class="nt">-v</span> <span class="nb">grep</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span><span class="sb">`</span>
<span class="k">for </span>p <span class="k">in</span> <span class="nv">$_pids</span>
<span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"kill pid=</span><span class="nv">$p</span><span class="s2">"</span>
    <span class="nb">kill</span> <span class="nt">-9</span> <span class="nv">$p</span>
<span class="k">done</span>

<span class="c"># æœ‰æ—¶å€™ä¸èƒ½å®æ—¶åˆ·æ–°ï¼Œéœ€è¦åˆ é™¤ _site ç›®å½•ï¼Œé‡æ–°å¯åŠ¨ã€‚</span>
<span class="o">[</span> <span class="nt">-d</span> _site <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-r</span> _site
jekyll serve <span class="nt">-wIt</span>

</code></pre></div></div>

<ul>
  <li>åå°è¿è¡Œ <code class="highlighter-rouge">jekyll</code> æœåŠ¡ã€‚contab åå°å®šæ—¶åˆ·æ–°ï¼Œå¯ä»¥å°†æ—¶é—´è®¾ç½®çŸ­ä¸€ç‚¹ã€‚</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># crontab -e</span>
<span class="k">*</span> <span class="k">*</span>/12 <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="nb">nohup</span> /home/other/wenfh2020.github.io/refresh.sh <span class="o">&gt;&gt;</span> /tmp/blog_log.txt 2&gt;&amp;1 &amp;
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">jekyll</code> æœåŠ¡çš„å…¶å®ƒåŠŸèƒ½é…ç½®ï¼Œå¯ä»¥å‚è€ƒå¸®åŠ©ã€‚</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve <span class="nt">-h</span>
</code></pre></div></div>

<hr />

<h2 id="7-markdown-ç¼–è¾‘å™¨">7. markdown ç¼–è¾‘å™¨</h2>

<p><code class="highlighter-rouge">markdown</code> ç¼–è¾‘å™¨å¯ä»¥ç”¨ <code class="highlighter-rouge">vscode</code>ï¼Œæœ‰ä¸å°‘æ’ä»¶æ”¯æŒã€‚</p>

<hr />

<h3 id="71-æ’ä»¶">7.1. æ’ä»¶</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">æ’ä»¶</th>
      <th style="text-align: left">æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Markdown All in Once</code></td>
      <td style="text-align: left">æ–‡æ¡£ç¼–å†™åŸºæœ¬æ’ä»¶</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Markdown Preview Enhanced</code></td>
      <td style="text-align: left">é¢„è§ˆ</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">markdownlint</code></td>
      <td style="text-align: left">è¯­æ³•æ£€æŸ¥</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">PicGo</code></td>
      <td style="text-align: left">å¯ä»¥å…³è”å›¾åºŠ</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">Paste Image</code></td>
      <td style="text-align: left">åœ¨ç¼–è¾‘å™¨è´´å›¾</td>
    </tr>
  </tbody>
</table>

<hr />

<p><code class="highlighter-rouge">Paste Image</code> æ’ä»¶ä¸»è¦é…ç½®é¡¹ï¼š</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">é…ç½®é¡¹</th>
      <th style="text-align: left">æ•°æ®</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Base Path</td>
      <td style="text-align: left">${projectRoot}</td>
    </tr>
    <tr>
      <td style="text-align: left">Insert Pattern</td>
      <td style="text-align: left">${imageSyntaxPrefix}/${imageFilePath}${imageSyntaxSuffix}</td>
    </tr>
    <tr>
      <td style="text-align: left">Path</td>
      <td style="text-align: left">${projectRoot}/images</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="72-å›¾ç‰‡">7.2. å›¾ç‰‡</h3>

<p>åœ¨åšå®¢ç›®å½•ä¸‹åˆ›å»º <code class="highlighter-rouge">images</code> æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾æ–‡ç« ç”¨åˆ°çš„å›¾ç‰‡ã€‚</p>

<p>markdown æ’å…¥å›¾ç‰‡æ ¼å¼å¦‚ä¸‹ï¼š</p>

<blockquote>
  <p>![](/images/123.png){: data-action=â€zoomâ€}</p>
</blockquote>

<hr />

<h2 id="8-ecs-äº‘æœåŠ¡éƒ¨ç½²">8. ECS äº‘æœåŠ¡éƒ¨ç½²</h2>

<p><code class="highlighter-rouge">github</code> å›½å†…çš„ç½‘ç»œè®¿é—®ä¸æ˜¯å¾ˆç¨³å®šï¼Œç‰¹åˆ«æ˜¯å›¾ç‰‡åŠ è½½ã€‚è‡ªå·±æ‰‹ä¸Šæœ‰ä¸€å°äº‘ä¸»æœºï¼Œé¡ºæ‰‹éƒ¨ç½²ä¸Šå»ï¼Œäº‘ä¸»æœºä» <code class="highlighter-rouge">github</code> ä¸Šæ‹‰å–ä»£ç ï¼Œä¸¤ä¸ªå¹³å°å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚</p>

<p>åšå®¢æ›´æ–°æµç¨‹ï¼š</p>

<ol>
  <li>æœ¬åœ° <code class="highlighter-rouge">vscode</code> ç¼–è¾‘ <code class="highlighter-rouge">markdown</code> æ–‡æ¡£ã€‚</li>
  <li>æœ¬åœ°ç½‘é¡µé¢„è§ˆåšå®¢ã€‚</li>
  <li>ä¸Šä¼ ä»£ç åˆ° <code class="highlighter-rouge">github</code>ã€‚</li>
  <li>äº‘ä¸»æœºä¸Šç”¨ <code class="highlighter-rouge">git pull</code> æ‹‰å–ä»£ç ã€‚ï¼ˆå¯ä»¥ç”¨ <code class="highlighter-rouge">crontab</code> å®šæ—¶æ‰§è¡Œè„šæœ¬ï¼‰</li>
  <li>åˆ·æ–°åŸŸåå¯¹åº”åšå®¢ã€‚</li>
</ol>

<hr />

<h3 id="81-åŸŸå">8.1. åŸŸå</h3>

<p>åŸŸåä¸æ˜¯å¿…é¡»çš„ï¼Œå®ƒçš„å¥½å¤„å°±ä¸ç”¨å¤šè¯´äº†ã€‚</p>

<ol>
  <li>é˜¿é‡Œäº‘è´­ä¹°åŸŸåã€‚</li>
  <li>é˜¿é‡Œäº‘åŸŸåç»‘å®šäº‘ä¸»æœº ipã€‚
    <blockquote>
      <p>ä»¥å‰æ²¡æœ‰å¤‡æ¡ˆè¿‡çš„ï¼ŒåŸŸåéœ€è¦å®åè®¤è¯ï¼Œå¤‡æ¡ˆï¼Œè¿™éœ€è¦ç­‰ï¼Œå¯ä»¥å…ˆç”¨ ipã€‚</p>
    </blockquote>
  </li>
</ol>

<hr />

<h3 id="82-å®‰è£…-ruby">8.2. å®‰è£… ruby</h3>

<p>äº‘ä¸»æœºç³»ç»Ÿæ˜¯ <code class="highlighter-rouge">centos7</code></p>

<p>yum é»˜è®¤å®‰è£… <code class="highlighter-rouge">ruby</code> ç‰ˆæœ¬å¤ªä½ï¼Œéœ€è¦å‡çº§åˆ° 2.3 ä»¥ä¸Šã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å®‰è£…å¼€å‘å·¥å…·</span>
yum groupinstall <span class="s2">"Development tools"</span>
<span class="c"># æ¸…ç†å®‰è£…è¿‡çš„ ruby æ–‡ä»¶</span>
yum erase ruby ruby-libs ruby-mode ruby-rdoc ruby-irb ruby-ri ruby-docs
<span class="c"># å®‰è£…ä¾èµ–</span>
yum <span class="nt">-y</span> <span class="nb">install </span>zlib-devel curl-devel openssl-devel httpd-devel apr-devel apr-util-devel mysql-devel
</code></pre></div></div>

<p>ä¸‹è½½æºç åŒ…å®‰è£…</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /home/soft
wget https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.5.tar.gz
<span class="nb">tar </span>zxf ruby-2.6.5.tar.gz
<span class="nb">cd </span>ruby-2.6.5
./configure
make <span class="o">&amp;&amp;</span> make <span class="nb">install
</span>ruby <span class="nt">-v</span>
</code></pre></div></div>

<hr />

<h3 id="83-æ‹‰å–ä»£ç ">8.3. æ‹‰å–ä»£ç </h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /home/other/
git clone https://github.com/wenfh2020/wenfh2020.github.io.git
</code></pre></div></div>

<hr />

<h3 id="84-è¿è¡Œ-jekyll-æœåŠ¡">8.4. è¿è¡Œ jekyll æœåŠ¡</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>wenfh2020.github.io
gem <span class="nb">install </span>jekyll bundler
bundle <span class="nb">install
</span>jekyll serve <span class="nt">-wIt</span>
</code></pre></div></div>

<hr />

<h3 id="85-nginx-é…ç½®">8.5. nginx é…ç½®</h3>

<ul>
  <li>æ·»åŠ åŸŸååˆ°æ–°çš„ nginx é…ç½®æ–‡ä»¶ã€‚</li>
  <li><a href="https://blog.csdn.net/b_aihe/article/details/88549757">http å‡çº§ https</a>ï¼Œè¯ä¹¦æ˜¯å…è´¹çš„ã€‚</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> /etc/nginx/vhost
<span class="nb">cd</span> /etc/nginx/vhost
vim blog.conf
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ³¨æ„ nginx.conf ä¸­é»˜è®¤çš„ 80 ç«¯å£å¤„ç†.</span>
<span class="c"># å¦‚æœæ²¡æœ‰ä½¿ç”¨ï¼Œå¯ä»¥æ³¨é‡Šæ‰ nginx.conf çš„ 80 ç«¯å£çš„ serverã€‚</span>

server <span class="o">{</span>
    listen 80<span class="p">;</span>
    server_name  wenfh2020.com www.wenfh2020.com<span class="p">;</span>
    <span class="c"># http è½¬ https</span>
    <span class="k">return </span>301   https://<span class="nv">$host$request_uri</span><span class="p">;</span>
<span class="o">}</span>

server <span class="o">{</span>
    listen       443 ssl<span class="p">;</span>
    server_name  wenfh2020.com www.wenfh2020.com<span class="p">;</span>
    ssl_certificate /usr/local/nginx/ssl/blog/3515736_wenfh2020.com.pem<span class="p">;</span>
    ssl_certificate_key /usr/local/nginx/ssl/blog/3515736_wenfh2020.com.key<span class="p">;</span>
    ssl_session_timeout 5m<span class="p">;</span>
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="p">;</span>
    ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL<span class="p">;</span>
    ssl_prefer_server_ciphers on<span class="p">;</span>

    root /home/other/wenfh2020.github.io<span class="p">;</span>
    <span class="c"># åå‘ä»£ç†</span>
    location / <span class="o">{</span>
        proxy_pass http://localhost:4000<span class="p">;</span>
    <span class="o">}</span>

    <span class="c"># é˜²æ­¢ç›—é“¾</span>
    location ~ .<span class="k">*</span><span class="se">\.</span><span class="o">(</span>gif|jpg|jpeg|png|bmp|swf<span class="o">)</span><span class="nv">$ </span><span class="o">{</span>
        root /home/other/wenfh2020.github.io<span class="p">;</span>
        valid_referers none blocked server_names  ~<span class="se">\.</span>google<span class="se">\.</span> ~<span class="se">\.</span>baidu<span class="se">\.</span> ~<span class="se">\.</span>bing<span class="se">\.</span><span class="p">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="nv">$invalid_referer</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return </span>403<span class="p">;</span>
        <span class="o">}</span>

        expires    30d<span class="p">;</span>
        access_log off<span class="p">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>æ·»åŠ æ–°åŸŸåæ–‡ä»¶è·¯å¾„åˆ°ä¸»é…ç½®æ–‡ä»¶ã€‚</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim /etc/nginx/nginx.conf
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http <span class="o">{</span>
    ...
    <span class="c"># æ·»åŠ æ–°åŸŸåæ–‡ä»¶</span>
    include /etc/nginx/vhost/<span class="k">*</span>.conf<span class="p">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>åˆ·æ–° nginx é…ç½®</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nginx <span class="nt">-s</span> reload
</code></pre></div></div>

<hr />

<h2 id="9-å‚è€ƒ">9. å‚è€ƒ</h2>

<ul>
  <li><a href="http://jekyllcn.com/">jekyll å®˜ç½‘</a></li>
  <li><a href="http://npm.taobao.org/package/simple-jekyll-search">simple-jekyll-search</a></li>
  <li><a href="https://birdteam.net/5072">é€šè¿‡Nginxå®ç°å›¾ç‰‡é˜²ç›—é“¾</a></li>
</ul>

<hr />

<blockquote>
  <p>ğŸ”¥æ–‡ç« æ¥æºï¼š<a href="https://wenfh2020.com/">wenfh2020.com</a></p>
</blockquote>
