---
layout: post
title:  "é«˜æ€§èƒ½æœåŠ¡å¼‚æ­¥é€šä¿¡é€»è¾‘"
categories: ç½‘ç»œ
tags: async
author: wenfh2020
---

æœ€è¿‘æ•´ç†äº†ä¸€ä¸‹æœåŠ¡ç¨‹åºå¼‚æ­¥é€šä¿¡é€»è¾‘æ€è·¯ã€‚å¼‚æ­¥é€»è¾‘ä¸åŒæ­¥é€»è¾‘å¤„ç†å·®åˆ«æ¯”è¾ƒå¤§ï¼Œå¼‚æ­¥é€»è¾‘å¯èƒ½æ¶‰åŠå¤šæ¬¡å›è°ƒæ‰èƒ½å®Œæˆä¸€ä¸ªè¯·æ±‚å¤„ç†ï¼Œé€»è¾‘è¢«ç¢ç‰‡åŒ–ï¼Œåˆ‡åˆ†æˆä¸²è¡Œçš„æ­¥éª¤ã€‚ä¹ æƒ¯äº†å†™åŒæ­¥é€»è¾‘çš„æœ‹å‹ï¼Œæœ‰å¯èƒ½æ€ç»´ä¸Šè½¬ä¸è¿‡æ¥ã€‚



* content
{:toc}

---

* é«˜æ€§èƒ½å¼‚æ­¥éé˜»å¡æœåŠ¡ï¼Œåº•å±‚ä¸€èˆ¬ç”¨å¤šè·¯å¤ç”¨ I/O æ¨¡å‹å¯¹äº‹ä»¶è¿›è¡Œç®¡ç†ï¼ŒLinux å¹³å°ç”¨ epollã€‚
* epoll æ”¯æŒå¼‚æ­¥äº‹ä»¶é€»è¾‘ã€‚epoll_wait ä¼šå°†å°±ç»ªäº‹ä»¶ä»å†…æ ¸ä¸­å–å‡ºè¿›è¡Œå¤„ç†ã€‚
* æœåŠ¡å¤„ç†äº‹ä»¶ï¼Œæ¯ä¸ª fd å¯¹åº”ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ callback å¤„ç†å–å‡ºçš„ eventsã€‚
* callback é€»è¾‘è¢«åˆ†æ•£ä¸ºé€»è¾‘æ­¥éª¤ `step`ï¼Œè¿™äº›æ­¥éª¤ä¸€èˆ¬æ˜¯å¼‚æ­¥ä¸²è¡Œå¤„ç†ï¼Œæ—¶åºè·ŸåŒæ­¥å·®ä¸å¤šï¼Œåªæ˜¯å¼‚æ­¥é€»è¾‘å¯èƒ½éœ€è¦å›è°ƒå¤šæ¬¡æ‰èƒ½å¤„ç†å®Œä¸€ä¸ªå®Œæ•´çš„é€»è¾‘ã€‚

![é«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶é€šä¿¡æµç¨‹](/images/2020-06-11-21-28-24.png){:data-action="zoom"}

> è®¾è®¡å›¾æ¥æºï¼šã€Š[å¼‚æ­¥æœåŠ¡æ¡†æ¶é€šä¿¡æµç¨‹](https://www.processon.com/view/5ee1d7de7d9c084420107b53)ã€‹

---

> ğŸ”¥æ–‡ç« æ¥æºï¼š[wenfh2020.com](https://wenfh2020.com/2020/06/11/server-async-logic/)
