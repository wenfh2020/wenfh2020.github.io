I"TÆ<p>redis æœ‰ä¸»ä»æ•°æ®å¤åˆ¶åŠŸèƒ½ã€‚å¤šä¸ªå®ä¾‹é€šè¿‡è¯»å†™åˆ†ç¦»ï¼Œä½¿å¾—å•è¿›ç¨‹çš„ redis å¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸æ€§èƒ½ã€‚</p>

<p>ä¸€èˆ¬æƒ…å†µä¸‹ master å¯è¯»å¯å†™ï¼Œslave åªè¯»ã€‚å½“ master èŠ‚ç‚¹æ‰çº¿æˆ–å¼‚å¸¸é€€å‡ºåï¼Œredis é›†ç¾¤åªå‰©ä¸‹ slave èŠ‚ç‚¹ï¼Œå®ƒä»¬ä¸æ”¯æŒå†™æ“ä½œã€‚è¿™æ—¶å¿…é¡»é‡æ–°æ‰¾ä¸€ä¸ª masterï¼Œæ–¹æ³•å°±æ˜¯ä»å‰©ä¸‹çš„ slave èŠ‚ç‚¹ä¸­ï¼Œé€‰å‡ºä¸€ä¸ªï¼Œå¹¶æŠŠå®ƒè§’è‰²è½¬å˜ä¸º masterï¼Œä½¿å¾— redis é›†ç¾¤èƒ½æ¢å¤å·¥ä½œã€‚</p>

<p>è¿™æ—¶æ•…éšœè½¬ç§»ç®¡ç†è€… <code class="highlighter-rouge">sentinel</code> åº”è¿è€Œç”Ÿã€‚å®ƒè´Ÿè´£ redis é›†ç¾¤ç®¡ç†å·¥ä½œï¼Œä¿è¯é«˜å¯ç”¨æ€§èƒ½ã€‚</p>

<ul id="markdown-toc">
  <li><a href="#1-sentinel-ä½œç”¨" id="markdown-toc-1-sentinel-ä½œç”¨">1. sentinel ä½œç”¨</a></li>
  <li><a href="#2-èŠ‚ç‚¹å…³ç³»" id="markdown-toc-2-èŠ‚ç‚¹å…³ç³»">2. èŠ‚ç‚¹å…³ç³»</a></li>
  <li><a href="#3-æ•…éšœ" id="markdown-toc-3-æ•…éšœ">3. æ•…éšœ</a>    <ul>
      <li><a href="#31-æ£€æµ‹æ•…éšœ" id="markdown-toc-31-æ£€æµ‹æ•…éšœ">3.1. æ£€æµ‹æ•…éšœ</a></li>
      <li><a href="#32-å‘ç°æ•…éšœ" id="markdown-toc-32-å‘ç°æ•…éšœ">3.2. å‘ç°æ•…éšœ</a></li>
      <li><a href="#33-æ•…éšœè½¬ç§»" id="markdown-toc-33-æ•…éšœè½¬ç§»">3.3. æ•…éšœè½¬ç§»</a></li>
    </ul>
  </li>
  <li><a href="#4-æ•…éšœè½¬ç§»æµç¨‹" id="markdown-toc-4-æ•…éšœè½¬ç§»æµç¨‹">4. æ•…éšœè½¬ç§»æµç¨‹</a></li>
  <li><a href="#5-é—®é¢˜" id="markdown-toc-5-é—®é¢˜">5. é—®é¢˜</a></li>
  <li><a href="#æµç¨‹" id="markdown-toc-æµç¨‹">æµç¨‹</a></li>
  <li><a href="#6-å‚è€ƒ" id="markdown-toc-6-å‚è€ƒ">6. å‚è€ƒ</a></li>
</ul>

<hr />

<h2 id="1-sentinel-ä½œç”¨">1. sentinel ä½œç”¨</h2>

<ol>
  <li>ç›‘æ§ï¼š æ£€æŸ¥ redis èŠ‚ç‚¹å¥åº·çŠ¶å†µã€‚</li>
  <li>æ•…éšœè½¬ç§»ï¼šå½“ redis é›†ç¾¤èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶ï¼ŒåŠæ—¶è‡ªåŠ¨è¿›è¡Œæ•…éšœè½¬ç§»ã€‚</li>
  <li>é€šçŸ¥ï¼šæ£€æµ‹åˆ° redis å®ä¾‹å‡ºç°æ•…éšœï¼Œé€šè¿‡ api è¿›è¡Œé€šçŸ¥ç”¨æˆ·ã€‚</li>
  <li>æä¾›é…ç½®ï¼šç”¨æˆ·å¯ä»¥æŸ¥è¯¢å½“å‰ redis é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼šæŸ¥è¯¢å“ªä¸ª redis èŠ‚ç‚¹æ˜¯ masterï¼Œå“ªä¸ªæ˜¯ slaveã€‚</li>
</ol>

<blockquote>
  <p>æ•…éšœæ£€æµ‹ï¼Œæ•…éšœå‘ç°ï¼Œæ•…éšœè½¬ç§»ã€‚</p>
</blockquote>

<hr />

<h2 id="2-èŠ‚ç‚¹å…³ç³»">2. èŠ‚ç‚¹å…³ç³»</h2>

<p>redis é«˜å¯ç”¨é›†ç¾¤ä¸­ï¼Œæœ‰ä¸¤ç§å¯¹è±¡ï¼Œä¸‰ä¸­è§’è‰²ï¼šsentinelï¼Œredis masterï¼Œredis slaveã€‚</p>

<ol>
  <li>sentinel èŠ‚ç‚¹é—´ç›¸äº’é“¾æ¥é€šä¿¡ã€‚</li>
  <li>sentinel æ¯ä¸ªèŠ‚ç‚¹ä¸ redis æ¯ä¸ªèŠ‚ç‚¹ç›¸äº’é“¾æ¥é€šä¿¡ã€‚</li>
  <li>redis master ä¸ slave éœ€è¦æ•°æ®å¤åˆ¶éœ€è¦ï¼Œç›¸äº’é“¾æ¥ã€‚slave ä¹‹é—´ä¸€èˆ¬ä¸ç›¸äº’é“¾æ¥é€šä¿¡ï¼Œé™¤éæ˜¯ <code class="highlighter-rouge">slave</code> ä¸ <code class="highlighter-rouge">sub-slave</code> å…³ç³»ã€‚</li>
</ol>

<p><img src="/images/2020-06-06-15-48-59.png" alt="é«˜å¯ç”¨èŠ‚ç‚¹é€šä¿¡å…³ç³»" data-action="zoom" /></p>

<h2 id="3-æ•…éšœ">3. æ•…éšœ</h2>

<h3 id="31-æ£€æµ‹æ•…éšœ">3.1. æ£€æµ‹æ•…éšœ</h3>

<p>sentinel å¦‚ä½•æŠŠé›†ç¾¤ç®¡ç†èµ·æ¥ï¼Œå¦‚ä½•ç›‘æ§ redisã€‚</p>

<h3 id="32-å‘ç°æ•…éšœ">3.2. å‘ç°æ•…éšœ</h3>

<h3 id="33-æ•…éšœè½¬ç§»">3.3. æ•…éšœè½¬ç§»</h3>

<hr />

<h2 id="4-æ•…éšœè½¬ç§»æµç¨‹">4. æ•…éšœè½¬ç§»æµç¨‹</h2>

<p>éœ€è¦å¤šä¸ª sentinel ç¡®è®¤ redis èŠ‚ç‚¹æ‰çº¿ï¼Œå¹¶é€‰ä¸¾å…¶ä¸­ä¸€ä¸ª sentinel ä½œä¸º leader è¿›è¡Œæ•…éšœè½¬ç§»ã€‚</p>

<ol>
  <li>å…¶ä¸­ä¸€ä¸ª sentinel ç›‘æ§åˆ° master æ‰çº¿ã€‚è¯¥ master è¢«è®¤ä¸ºæ˜¯ä¸»è§‚æ‰çº¿ã€‚</li>
  <li>æ‰€æœ‰ sentinel éƒ½ç›‘æ§åˆ° master æ‰çº¿ï¼Œè¦æŠŠ master ç¡®è®¤ä¸ºå®¢è§‚æ‰çº¿ã€‚</li>
  <li>ä» sentinel ä¸­é€‰å‡ºä¸€ä¸ª sentinel ä½œä¸º leader å¯¹ redis é›†ç¾¤è¿›è¡Œæ•…éšœè½¬ç§»ã€‚</li>
  <li>sentienl leader ä»å‰©ä½™çš„ slave ä¸­ï¼Œé€‰å‡ºä¸€ä¸ªï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º masterã€‚</li>
</ol>

<hr />

<h2 id="5-é—®é¢˜">5. é—®é¢˜</h2>

<ol>
  <li>é€‰ä¸¾æµç¨‹ã€‚</li>
  <li>ç›‘æ§æ•…éšœã€‚</li>
  <li>å‘ç°æ•…éšœï¼Œä¸»å®¢è§‚æ‰çº¿ã€‚</li>
  <li>æ•…éšœè½¬ç§»æµç¨‹ã€‚</li>
  <li>sentinel ä¸ redis é€šä¿¡æµç¨‹ã€‚</li>
</ol>

<hr />

<h2 id="æµç¨‹">æµç¨‹</h2>

<ol>
  <li>å¯åŠ¨ master å’Œ slaveã€‚</li>
  <li>å¯åŠ¨ sentinel ç›‘æ§ä¸‰ä¸ªèŠ‚ç‚¹çš„æƒ…å†µã€‚</li>
</ol>

<p>cdxds</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 60<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 66<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 90<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 52<span class="o">)</span>            <span class="o">=</span> 0
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42899<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 62<span class="o">)</span> <span class="o">=</span> 2
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 61<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>8, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 61<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 266
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 60<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 55<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 75<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 71<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 57<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 57<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 100<span class="o">)</span>           <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 2
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">INFO</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">INFO</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 70<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>8, <span class="s2">"</span><span class="nv">$3664</span><span class="se">\r\n</span><span class="s2"># Server</span><span class="se">\r\n</span><span class="s2">redis_version:5"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 3673
recvfrom<span class="o">(</span>10, <span class="s2">"</span><span class="nv">$3775</span><span class="se">\r\n</span><span class="s2"># Server</span><span class="se">\r\n</span><span class="s2">redis_version:5"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 3784
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 70<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 52<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 55<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 70<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 70<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 69<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 76<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 90<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 55<span class="o">)</span>            <span class="o">=</span> 0
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42899<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 90<span class="o">)</span> <span class="o">=</span> 2
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 89<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 89<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 89<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 266
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 62<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 61<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 60<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 83<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 100<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 99<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 57<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 83<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 70<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 62<span class="o">)</span>            <span class="o">=</span> 0
open<span class="o">(</span><span class="s2">"/proc/19901/stat"</span>, O_RDONLY<span class="o">)</span>      <span class="o">=</span> 12
<span class="nb">read</span><span class="o">(</span>12, <span class="s2">"19901 (redis-sentinel) R 13320 1"</span>..., 4096<span class="o">)</span> <span class="o">=</span> 348
close<span class="o">(</span>12<span class="o">)</span>                               <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 83<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 55<span class="o">)</span>            <span class="o">=</span> 0
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42899<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 83<span class="o">)</span> <span class="o">=</span> 2
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 82<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>8, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 266
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 52<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 52<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 52<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 52<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 83<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 82<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 66<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 65<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 89<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 89<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42899<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 2
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 57<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>8, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 266
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 76<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 76<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 75<span class="o">)</span>            <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 76<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 54<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 52<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>8, <span class="s2">""</span>, 16384, 0, NULL, NULL<span class="o">)</span>   <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 8, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
close<span class="o">(</span>8<span class="o">)</span>                                <span class="o">=</span> 0
recvfrom<span class="o">(</span>9, <span class="s2">""</span>, 16384, 0, NULL, NULL<span class="o">)</span>   <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 9, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
close<span class="o">(</span>9<span class="o">)</span>                                <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 15<span class="o">)</span>            <span class="o">=</span> 0
socket<span class="o">(</span>AF_INET, SOCK_STREAM, IPPROTO_TCP<span class="o">)</span> <span class="o">=</span> 8
fcntl<span class="o">(</span>8, F_GETFL<span class="o">)</span>                       <span class="o">=</span> 0x2 <span class="o">(</span>flags O_RDWR<span class="o">)</span>
fcntl<span class="o">(</span>8, F_SETFL, O_RDWR|O_NONBLOCK<span class="o">)</span>    <span class="o">=</span> 0
connect<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> EINPROGRESS <span class="o">(</span>Operation now <span class="k">in </span>progress<span class="o">)</span>
setsockopt<span class="o">(</span>8, SOL_TCP, TCP_NODELAY, <span class="o">[</span>1], 4<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 8, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
socket<span class="o">(</span>AF_INET, SOCK_STREAM, IPPROTO_TCP<span class="o">)</span> <span class="o">=</span> 9
fcntl<span class="o">(</span>9, F_GETFL<span class="o">)</span>                       <span class="o">=</span> 0x2 <span class="o">(</span>flags O_RDWR<span class="o">)</span>
fcntl<span class="o">(</span>9, F_SETFL, O_RDWR|O_NONBLOCK<span class="o">)</span>    <span class="o">=</span> 0
connect<span class="o">(</span>9, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> EINPROGRESS <span class="o">(</span>Operation now <span class="k">in </span>progress<span class="o">)</span>
setsockopt<span class="o">(</span>9, SOL_TCP, TCP_NODELAY, <span class="o">[</span>1], 4<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 9, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT|EPOLLERR|EPOLLHUP, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT|EPOLLERR|EPOLLHUP, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 2
connect<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> ECONNREFUSED <span class="o">(</span>Connection refused<span class="o">)</span>
getsockopt<span class="o">(</span>8, SOL_SOCKET, SO_ERROR, <span class="o">[</span>0], <span class="o">[</span>4]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 8, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
close<span class="o">(</span>8<span class="o">)</span>                                <span class="o">=</span> 0
connect<span class="o">(</span>9, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> ECONNREFUSED <span class="o">(</span>Connection refused<span class="o">)</span>
getsockopt<span class="o">(</span>9, SOL_SOCKET, SO_ERROR, <span class="o">[</span>0], <span class="o">[</span>4]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 9, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
close<span class="o">(</span>9<span class="o">)</span>                                <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 66<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 66<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 66<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 65<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
socket<span class="o">(</span>AF_INET, SOCK_STREAM, IPPROTO_TCP<span class="o">)</span> <span class="o">=</span> 8
fcntl<span class="o">(</span>8, F_GETFL<span class="o">)</span>                       <span class="o">=</span> 0x2 <span class="o">(</span>flags O_RDWR<span class="o">)</span>
fcntl<span class="o">(</span>8, F_SETFL, O_RDWR|O_NONBLOCK<span class="o">)</span>    <span class="o">=</span> 0
connect<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> EINPROGRESS <span class="o">(</span>Operation now <span class="k">in </span>progress<span class="o">)</span>
setsockopt<span class="o">(</span>8, SOL_TCP, TCP_NODELAY, <span class="o">[</span>1], 4<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 8, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
socket<span class="o">(</span>AF_INET, SOCK_STREAM, IPPROTO_TCP<span class="o">)</span> <span class="o">=</span> 9
fcntl<span class="o">(</span>9, F_GETFL<span class="o">)</span>                       <span class="o">=</span> 0x2 <span class="o">(</span>flags O_RDWR<span class="o">)</span>
fcntl<span class="o">(</span>9, F_SETFL, O_RDWR|O_NONBLOCK<span class="o">)</span>    <span class="o">=</span> 0
connect<span class="o">(</span>9, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> EINPROGRESS <span class="o">(</span>Operation now <span class="k">in </span>progress<span class="o">)</span>
setsockopt<span class="o">(</span>9, SOL_TCP, TCP_NODELAY, <span class="o">[</span>1], 4<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 9, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}})</span> <span class="o">=</span> 0
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42921<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT|EPOLLERR|EPOLLHUP, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT|EPOLLERR|EPOLLHUP, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 70<span class="o">)</span> <span class="o">=</span> 2
connect<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> ECONNREFUSED <span class="o">(</span>Connection refused<span class="o">)</span>
getsockopt<span class="o">(</span>8, SOL_SOCKET, SO_ERROR, <span class="o">[</span>0], <span class="o">[</span>4]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 8, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
close<span class="o">(</span>8<span class="o">)</span>                                <span class="o">=</span> 0
connect<span class="o">(</span>9, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> ECONNREFUSED <span class="o">(</span>Connection refused<span class="o">)</span>
getsockopt<span class="o">(</span>9, SOL_SOCKET, SO_ERROR, <span class="o">[</span>0], <span class="o">[</span>4]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 9, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 70<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
socket<span class="o">(</span>AF_INET, SOCK_STREAM, IPPROTO_TCP<span class="o">)</span> <span class="o">=</span> 8
fcntl<span class="o">(</span>8, F_GETFL<span class="o">)</span>                       <span class="o">=</span> 0x2 <span class="o">(</span>flags O_RDWR<span class="o">)</span>
fcntl<span class="o">(</span>8, F_SETFL, O_RDWR|O_NONBLOCK<span class="o">)</span>    <span class="o">=</span> 0
connect<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> EINPROGRESS <span class="o">(</span>Operation now <span class="k">in </span>progress<span class="o">)</span>
setsockopt<span class="o">(</span>8, SOL_TCP, TCP_NODELAY, <span class="o">[</span>1], 4<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 8, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
socket<span class="o">(</span>AF_INET, SOCK_STREAM, IPPROTO_TCP<span class="o">)</span> <span class="o">=</span> 9
fcntl<span class="o">(</span>9, F_GETFL<span class="o">)</span>                       <span class="o">=</span> 0x2 <span class="o">(</span>flags O_RDWR<span class="o">)</span>
fcntl<span class="o">(</span>9, F_SETFL, O_RDWR|O_NONBLOCK<span class="o">)</span>    <span class="o">=</span> 0
connect<span class="o">(</span>9, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> <span class="nt">-1</span> EINPROGRESS <span class="o">(</span>Operation now <span class="k">in </span>progress<span class="o">)</span>
setsockopt<span class="o">(</span>9, SOL_TCP, TCP_NODELAY, <span class="o">[</span>1], 4<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 9, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}})</span> <span class="o">=</span> 0
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42925<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 62<span class="o">)</span> <span class="o">=</span> 2
connect<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> 0
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$6</span><span class="se">\r\n</span><span class="s2">CLIENT</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">SETNAME</span><span class="se">\r\n</span><span class="nv">$21</span><span class="s2">"</span>..., 204, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 204
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 8, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
connect<span class="o">(</span>9, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>6379<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, 16<span class="o">)</span> <span class="o">=</span> 0
sendto<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$6</span><span class="se">\r\n</span><span class="s2">CLIENT</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">SETNAME</span><span class="se">\r\n</span><span class="nv">$24</span><span class="s2">"</span>..., 104, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 104
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_DEL, 9, 0x7ffc3fe17734<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_ADD, 9, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}]</span>, 10128, 61<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>8, <span class="s2">"+OK</span><span class="se">\r\n</span><span class="s2">+PONG</span><span class="se">\r\n</span><span class="s2">:0</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 16
recvfrom<span class="o">(</span>9, <span class="s2">"+OK</span><span class="se">\r\n</span><span class="s2">*3</span><span class="se">\r\n</span><span class="nv">$9</span><span class="se">\r\n</span><span class="s2">subscribe</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__s"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 53
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 51<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 51<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 62<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 62<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 61<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 51<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 51<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 100<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 100<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 66<span class="o">)</span> <span class="o">=</span> 2
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">INFO</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">INFO</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 65<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"</span><span class="nv">$3640</span><span class="se">\r\n</span><span class="s2"># Server</span><span class="se">\r\n</span><span class="s2">redis_version:5"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 3649
write<span class="o">(</span>1, <span class="s2">"19901:X 08 Jun 2020 17:23:21.455"</span>..., 74<span class="o">)</span> <span class="o">=</span> 74
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 64<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"</span><span class="nv">$3757</span><span class="se">\r\n</span><span class="s2"># Server</span><span class="se">\r\n</span><span class="s2">redis_version:5"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 3766
open<span class="o">(</span><span class="s2">"/proc/19901/stat"</span>, O_RDONLY<span class="o">)</span>      <span class="o">=</span> 12
<span class="nb">read</span><span class="o">(</span>12, <span class="s2">"19901 (redis-sentinel) R 13320 1"</span>..., 4096<span class="o">)</span> <span class="o">=</span> 348
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42925<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 3
recvfrom<span class="o">(</span>8, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 57<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 100<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 99<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 99<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 52<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 52<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 58<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 57<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 61<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 60<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 59<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
getsockname<span class="o">(</span>8, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>42925<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 71<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>9, <span class="nv">u64</span><span class="o">=</span>9<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 69<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>9, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 68<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 82<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>8, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 8, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>8, <span class="nv">u64</span><span class="o">=</span>8<span class="o">}}]</span>, 10128, 82<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>8, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
epoll_wait<span class="o">(</span>5, <span class="o">[]</span>, 10128, 81<span class="o">)</span>            <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 52<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*1</span><span class="se">\r\n</span><span class="nv">$4</span><span class="se">\r\n</span><span class="s2">PING</span><span class="se">\r\n</span><span class="s2">"</span>, 14, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 14
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 51<span class="o">)</span> <span class="o">=</span> 1
recvfrom<span class="o">(</span>10, <span class="s2">"+PONG</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 7
getsockname<span class="o">(</span>10, <span class="o">{</span><span class="nv">sa_family</span><span class="o">=</span>AF_INET, <span class="nv">sin_port</span><span class="o">=</span>htons<span class="o">(</span>20192<span class="o">)</span>, <span class="nv">sin_addr</span><span class="o">=</span>inet_addr<span class="o">(</span><span class="s2">"127.0.0.1"</span><span class="o">)}</span>, <span class="o">[</span>16]<span class="o">)</span> <span class="o">=</span> 0
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN|EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLOUT, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}]</span>, 10128, 55<span class="o">)</span> <span class="o">=</span> 1
sendto<span class="o">(</span>10, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">PUBLISH</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 133, 0, NULL, 0<span class="o">)</span> <span class="o">=</span> 133
epoll_ctl<span class="o">(</span>5, EPOLL_CTL_MOD, 10, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}})</span> <span class="o">=</span> 0
epoll_wait<span class="o">(</span>5, <span class="o">[{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>10, <span class="nv">u64</span><span class="o">=</span>10<span class="o">}}</span>, <span class="o">{</span>EPOLLIN, <span class="o">{</span><span class="nv">u32</span><span class="o">=</span>11, <span class="nv">u64</span><span class="o">=</span>11<span class="o">}}]</span>, 10128, 54<span class="o">)</span> <span class="o">=</span> 2
recvfrom<span class="o">(</span>10, <span class="s2">":1</span><span class="se">\r\n</span><span class="s2">"</span>, 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 4
recvfrom<span class="o">(</span>11, <span class="s2">"*3</span><span class="se">\r\n</span><span class="nv">$7</span><span class="se">\r\n</span><span class="s2">message</span><span class="se">\r\n</span><span class="nv">$18</span><span class="se">\r\n</span><span class="s2">__sentinel"</span>..., 16384, 0, NULL, NULL<span class="o">)</span> <span class="o">=</span> 133
epoll_wait<span class="o">(</span>5,  &lt;detached ...&gt;
</code></pre></div></div>

<hr />

<h2 id="6-å‚è€ƒ">6. å‚è€ƒ</h2>

<ul>
  <li><a href="https://redis.io/topics/sentinel">Redis Sentinel Documentation</a></li>
  <li><a href="https://wenfh2020.com/2020/05/17/redis-replication/">[redis æºç èµ°è¯»] ä¸»ä»æ•°æ®å¤åˆ¶ï¼ˆä¸Šï¼‰</a></li>
  <li><a href="https://wenfh2020.com/2020/05/31/redis-replication-next/">[redis æºç èµ°è¯»] ä¸»ä»æ•°æ®å¤åˆ¶ï¼ˆä¸‹ï¼‰</a></li>
  <li>ã€Šredis å®ç°ä¸è®¾è®¡ã€‹</li>
  <li><a href="https://blog.csdn.net/cainaioaaa/article/details/79881296">åˆ†å¸ƒå¼ç®—æ³•ä¹‹é€‰ä¸¾ç®—æ³•Raft</a></li>
  <li><a href="http://blog.itpub.net/31556438/viewspace-2637112/">10åˆ†é’Ÿå¼„æ‡‚Raftç®—æ³•</a></li>
</ul>

<hr />

<blockquote>
  <p>ğŸ”¥æ–‡ç« æ¥æºï¼š<a href="https://wenfh2020.com/">wenfh2020.com</a></p>
</blockquote>
:ET