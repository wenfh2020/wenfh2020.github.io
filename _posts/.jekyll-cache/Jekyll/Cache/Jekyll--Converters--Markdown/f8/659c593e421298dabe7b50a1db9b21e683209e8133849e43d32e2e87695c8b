I"d<p>é¡¹ç›®ä¸­ï¼Œæ— è®ºå®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯ï¼Œæ—¥å¿—éƒ½æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¸€èˆ¬çš„æ—¥å¿—æ ¼å¼å…·å¤‡ä¸‹é¢å‡ ä¸ªè¦ç´ ï¼š</p>

<p>æ—¶é—´ï¼Œæ—¥å¿—ç­‰çº§ï¼Œæºç æ–‡ä»¶ï¼Œæºç è¡Œæ•°ï¼Œæ—¥å¿—å­—ç¬¦ä¸²æ ¼å¼åŒ–å†…å®¹ã€‚</p>

<ul id="markdown-toc">
  <li><a href="#1-æ—¥å¿—äº‹ä¾‹" id="markdown-toc-1-æ—¥å¿—äº‹ä¾‹">1. æ—¥å¿—äº‹ä¾‹</a></li>
  <li><a href="#2-æ—¥å¿—å®å®šä¹‰" id="markdown-toc-2-æ—¥å¿—å®å®šä¹‰">2. æ—¥å¿—å®å®šä¹‰</a>    <ul>
      <li><a href="#21-windows" id="markdown-toc-21-windows">2.1. windows</a></li>
      <li><a href="#22-linux" id="markdown-toc-22-linux">2.2. linux</a></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="1-æ—¥å¿—äº‹ä¾‹">1. æ—¥å¿—äº‹ä¾‹</h2>

<ul>
  <li>äº‹ä¾‹ä»£ç ï¼š</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LOG_ERR<span class="o">(</span><span class="s2">"check file failed, task id = %d, error = %d"</span>, iTaskID, iErrCode<span class="o">)</span><span class="p">;</span>
</code></pre></div></div>

<ul>
  <li>å†…å®¹ï¼š</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>2017-10-28 19:40:01][ERROR][uploadclient.cpp][380] check file failed, task <span class="nb">id</span> <span class="o">=</span> 6, error <span class="o">=</span> 23
</code></pre></div></div>

<hr />

<h2 id="2-æ—¥å¿—å®å®šä¹‰">2. æ—¥å¿—å®å®šä¹‰</h2>

<p>å­—ç¬¦ä¸²æ ¼å¼åŒ–æ•°æ®å¦‚ä½•ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œç ”ç©¶äº†ä¸å°‘æ—¶é—´~ ä¸ºå•¥è¦å°†æ—¥å¿—å‡½æ•°å®šä¹‰ä¸ºå®å‘¢ï¼Œä¸»è¦æ˜¯å› ä¸º <strong>FILE</strong> å’Œ <strong>LINE</strong> è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåªæœ‰é€šè¿‡å®ï¼Œæ‰èƒ½æ­£ç¡®è®°å½•å“ªä¸ªæ–‡ä»¶ï¼Œå“ªä¸€è¡Œçš„æ—¥å¿—ã€‚</p>

<hr />

<h3 id="21-windows">2.1. windows</h3>

<ul>
  <li>å®</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define LOG_TRACE(x, ...)     LogTrace(__FILE__, __LINE__, x, ##__VA_ARGS__);
#define LOG_DEBUG(x, ...)     LogDebug(__FILE__, __LINE__, x, ##__VA_ARGS__);
#define LOG_INFO(x, ...)      LogInfo(__FILE__, __LINE__, x, ##__VA_ARGS__);
#define LOG_IMPORTANT(x, ...) LogImportant(__FILE__, __LINE__, x, ##__VA_ARGS__);
#define LOG_ERR(x, ...)       LogError(__FILE__, __LINE__, x, ##__VA_ARGS__);  
</span></code></pre></div></div>

<ul>
  <li>å‡½æ•°</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">LogData</span><span class="p">(</span><span class="n">LPCTSTR</span> <span class="n">pFile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iLine</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iType</span><span class="p">,</span> <span class="n">LPCTSTR</span> <span class="n">lpInfo</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">LogTrace</span><span class="p">(</span><span class="n">LPCTSTR</span> <span class="n">pFile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iLine</span><span class="p">,</span> <span class="n">LPCTSTR</span> <span class="n">lpszFormat</span><span class="p">,</span> <span class="p">...);</span>
<span class="kt">void</span> <span class="nf">LogDebug</span><span class="p">(</span><span class="n">LPCTSTR</span> <span class="n">pFile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iLine</span><span class="p">,</span> <span class="n">LPCTSTR</span> <span class="n">lpszFormat</span><span class="p">,</span> <span class="p">...);</span>
<span class="kt">void</span> <span class="nf">LogInfo</span><span class="p">(</span><span class="n">LPCTSTR</span> <span class="n">pFile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iLine</span><span class="p">,</span> <span class="n">LPCTSTR</span> <span class="n">lpszFormat</span><span class="p">,</span> <span class="p">...);</span>
<span class="kt">void</span> <span class="nf">LogImportant</span><span class="p">(</span><span class="n">LPCTSTR</span> <span class="n">pFile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iLine</span><span class="p">,</span> <span class="n">LPCTSTR</span> <span class="n">lpszFormat</span><span class="p">,</span> <span class="p">...);</span>
<span class="kt">void</span> <span class="nf">LogError</span><span class="p">(</span><span class="n">LPCTSTR</span> <span class="n">pFile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iLine</span><span class="p">,</span> <span class="n">LPCTSTR</span> <span class="n">lpszFormat</span><span class="p">,</span> <span class="p">...);</span>
</code></pre></div></div>

<hr />

<h3 id="22-linux">2.2. linux</h3>

<ul>
  <li>log4cplus</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define LOG4_FATAL(args...) LOG4CPLUS_FATAL_FMT(GetLogger(), ##args)
#define LOG4_ERROR(args...) LOG4CPLUS_ERROR_FMT(GetLogger(), ##args)
#define LOG4_WARN(args...)  LOG4CPLUS_WARN_FMT(GetLogger(), ##args)
#define LOG4_INFO(args...)  LOG4CPLUS_INFO_FMT(GetLogger(), ##args)
#define LOG4_DEBUG(args...) LOG4CPLUS_DEBUG_FMT(GetLogger(), ##args)
#define LOG4_TRACE(args...) LOG4CPLUS_TRACE_FMT(GetLogger(), ##args)
</span></code></pre></div></div>

<hr />

<blockquote>
  <p>ğŸ”¥æ–‡ç« æ¥æºï¼š<a href="https://wenfh2020.com/">wenfh2020.com</a></p>
</blockquote>
:ET